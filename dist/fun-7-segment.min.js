class SegmentDisplay{static SEGMENT_MAP={0:["a","b","c","d","e","f"],1:["b","c"],2:["a","b","d","e","g"],3:["a","b","c","d","g"],4:["b","c","f","g"],5:["a","c","d","f","g"],6:["a","c","d","e","f","g"],7:["a","b","c"],8:["a","b","c","d","e","f","g"],9:["a","b","c","d","f","g"],A:["a","b","c","e","f","g"],B:["c","d","e","f","g"],C:["a","d","e","f"],D:["b","c","d","e","g"],E:["a","d","e","f","g"],F:["a","e","f","g"],G:["a","c","d","e","f"],H:["b","c","e","f","g"],I:["b","c"],J:["b","c","d","e"],K:["b","c","e","f","g"],L:["d","e","f"],M:["a","c","e"],N:["c","e","g"],O:["a","b","c","d","e","f"],P:["a","b","e","f","g"],Q:["a","b","c","f","g"],R:["e","g"],S:["a","c","d","f","g"],T:["d","e","f","g"],U:["b","c","d","e","f"],V:["c","d","e"],W:["b","d","f"],X:["b","c","e","f","g"],Y:["b","c","d","f","g"],Z:["a","b","d","e"],a:["a","b","c","d","e","g"],b:["c","d","e","f","g"],c:["d","e","g"],d:["b","c","d","e","g"],e:["a","b","d","e","f","g"],f:["a","e","f","g"],g:["a","b","c","d","f","g"],h:["c","e","f","g"],i:["c"],j:["b","c","d"],k:["b","c","e","f","g"],l:["e","f"],m:["a","c","e","g"],n:["c","e","g"],o:["c","d","e","g"],p:["a","b","e","f","g"],q:["a","b","c","f","g"],r:["e","g"],s:["a","c","d","f","g"],t:["d","e","f","g"],u:["c","d","e"],v:["c","d","e"],w:["b","d","f"],x:["b","c","e","f","g"],y:["b","c","d","f","g"],z:["a","b","d","e","g"],"+":["b","f","g"],"/":["b","e","g"],"\\":["c","f","g"],"<":["e","f"],">":["b","c"],"^":["a","b","f"],"|":["b","c","e","f"],"~":["a","g"],"`":["f"],"@":["a","b","c","d","e","f"],"#":["a","b","c","d","e","f","g"],$:["a","c","d","f","g"],"%":["a","c","f"],"&":["a","c","d","e","f","g"]," ":[],"-":["g"],_:["d"],"=":["d","g"],"°":["a","b","f","g"],'"':["b","f"],"'":["f"],"[":["a","d","e","f"],"]":["a","b","c","d"],"{":["a","d","e","f"],"}":["a","b","c","d"],"(":["a","d","e","f"],")":["a","b","c","d"],"*":["a","b","c","d","e","f","g"],"!":["b","c"],"?":["a","b","e","g"],".":["c"],",":["c"],":":["b","e"],";":["b","c"],"♥":["b","c","d","f","g"],"☺":["a","b","c","d","e","f"],"→":["a","b","c","g"],"←":["a","d","e","f","g"],"↑":["a","b","f"],"↓":["c","d","e"]};constructor(t,e={}){if(this.container="string"==typeof t?document.querySelector(t):t,!this.container)throw new Error("Container element not found");this.options={text:e.text||"HELLO",digitCount:e.digitCount||8,scrollSpeed:e.scrollSpeed||200,scrolling:void 0===e.scrolling||e.scrolling,rainbowMode:e.rainbowMode||!1,color:e.color||null},this.scrollPosition=0,this.scrollInterval=null,this.currentColors=[],this.digits=[],this._init()}_init(){this.container.classList.add("segment-display"),this._createDigits(),this.render(),this.options.scrolling&&this.startScrolling()}_createDigits(){this.container.innerHTML="",this.digits=[];for(let t=0;t<this.options.digitCount;t++){const t=this._createDigit();this.container.appendChild(t),this.digits.push(t)}this.currentColors=Array(this.options.digitCount).fill(null).map(()=>({}))}_createDigit(){const t=document.createElement("div");t.className="digit";return["a","b","c","d","e","f","g"].forEach(e=>{const o=document.createElement("div");o.className=`segment segment-${e}`,t.appendChild(o)}),t}_getCharSegments(t){if(SegmentDisplay.SEGMENT_MAP[t])return SegmentDisplay.SEGMENT_MAP[t];const e=t.toUpperCase();return SegmentDisplay.SEGMENT_MAP[e]||SegmentDisplay.SEGMENT_MAP[8]}_randomColor(){return`hsl(${Math.floor(360*Math.random())}, 80%, 60%)`}_rainbowColor(t,e){return`hsl(${t/e*360}, 80%, 60%)`}_renderCharacter(t,e,o){const i=this._getCharSegments(e);t.querySelectorAll(".segment").forEach((t,e)=>{const s=["a","b","c","d","e","f","g"][e];if(i.includes(s)){let i;t.classList.add("on"),i=this.options.rainbowMode?this._rainbowColor(7*o+e,7*this.options.digitCount):this.currentColors[o]&&this.currentColors[o][s]?this.currentColors[o][s]:this.options.color?this.options.color:getComputedStyle(document.documentElement).getPropertyValue("--segment-on").trim()||"#00ff88",t.style.background=i,t.style.boxShadow=`0 0 10px ${i}, 0 0 20px ${i}`}else t.classList.remove("on"),t.style.background="",t.style.boxShadow=""})}_prepareDisplayText(){if(!this.options.scrolling){return this.options.text.padEnd(this.options.digitCount," ").substring(0,this.options.digitCount)}const t="   "+this.options.text+"   ",e=t.length;let o="";for(let i=0;i<this.options.digitCount;i++){o+=t[(this.scrollPosition+i)%e]}return o}render(){const t=this._prepareDisplayText();this.digits.forEach((e,o)=>{const i=t[o]||" ";this._renderCharacter(e,i,o)})}setText(t){this.options.text=t,this.scrollPosition=0,this.render()}setDigitCount(t){this.options.digitCount=t,this._createDigits(),this.render(),this.options.scrolling&&this.startScrolling()}startScrolling(){this.stopScrolling(),this.options.scrolling=!0,this.scrollInterval=setInterval(()=>{this.scrollPosition=(this.scrollPosition+1)%(this.options.text.length+6),this.render()},this.options.scrollSpeed)}stopScrolling(){this.scrollInterval&&(clearInterval(this.scrollInterval),this.scrollInterval=null),this.options.scrolling=!1}setScrollSpeed(t){this.options.scrollSpeed=t,this.options.scrolling&&this.startScrolling()}setRainbowMode(t){this.options.rainbowMode=t,this.render()}setColor(t){this.options.color=t,this.render()}randomizeColors(){this.currentColors=Array(this.options.digitCount).fill(null).map(()=>({a:this._randomColor(),b:this._randomColor(),c:this._randomColor(),d:this._randomColor(),e:this._randomColor(),f:this._randomColor(),g:this._randomColor()})),this.options.rainbowMode=!1,this.render()}setDigitColors(t,e){t>=0&&t<this.options.digitCount&&(this.currentColors[t]={...e},this.render())}clearColors(){this.currentColors=Array(this.options.digitCount).fill(null).map(()=>({})),this.render()}destroy(){this.stopScrolling(),this.container.innerHTML="",this.digits=[],this.currentColors=[]}}"undefined"!=typeof module&&module.exports&&(module.exports=SegmentDisplay),"function"==typeof define&&define.amd&&define([],function(){return SegmentDisplay}),"undefined"!=typeof window&&(window.SegmentDisplay=SegmentDisplay);